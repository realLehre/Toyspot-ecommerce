<form [formGroup]="profileForm" class="flex flex-col" (ngSubmit)="onSubmit()">
  <div>
    <div class="mb-6 flex flex-col">
      <label for="fullName" class="block text-sm font-medium text-gray-700 mb-1"
        >Full Name</label
      >
      <div class="flex-grow">
        <input
          id="fullName"
          formControlName="fullName"
          class="w-full px-3 py-2 border-[2px] rounded-md focus:outline-none bg-bg_subtle"
          [ngClass]="{
            'border-red-500': isInvalidAndTouched('fullName'),
          }"
          #addressInput
        />
        @if (isInvalidAndTouched('fullName')) {
          <p
            class="mt-1 text-sm text-red-500 h-5"
            appErrorMessage
            [controlName]="'fullName'"
          ></p>
        }
      </div>
    </div>

    <div class="mb-6 flex flex-col">
      <label for="email" class="block text-sm font-medium text-gray-700 mb-1"
        >Email</label
      >
      <div class="flex-grow">
        <input
          id="email"
          formControlName="email"
          class="w-full px-3 py-2 border-[2px] rounded-md focus:outline-none bg-bg_subtle"
          readonly
          [ngClass]="{
            'border-red-500': isInvalidAndTouched('email'),
          }"
          #addressInput
        />
        @if (isInvalidAndTouched('email')) {
          <p
            class="mt-1 text-sm text-red-500 h-5"
            appErrorMessage
            [controlName]="'email'"
          ></p>
        }
      </div>
    </div>

    <div class="mb-6 flex flex-col">
      <label
        for="phoneNumber"
        class="block text-sm font-medium text-gray-700 mb-1"
        >Phone Number</label
      >
      <div class="flex-grow">
        <input
          id="phoneNumber"
          formControlName="phoneNumber"
          class="w-full px-3 py-2 border-[2px] rounded-md focus:outline-none bg-bg_subtle"
          [ngClass]="{
            'border-red-500': isInvalidAndTouched('phoneNumber'),
          }"
          #addressInput
        />
        @if (isInvalidAndTouched('phoneNumber')) {
          <p
            class="mt-1 text-sm text-red-500 h-5"
            appErrorMessage
            [controlName]="'phoneNumber'"
          ></p>
        }
      </div>
    </div>
  </div>

  <div class="flex items-center self-end space-x-3">
    <button
      class="px-4 py-2 bg-transparent h-11 border-[2px] border-primary rounded-md hover:border-type_grey text-primary hover:text-type_grey"
      (click)="cancelEdit.emit()"
      type="button"
    >
      Cancel</button
    ><button
      class="px-4 py-2 flex items-center space-x-2 bg-primary h-11 text-white rounded-md hover:bg-opacity-80 focus:outline-none disabled:bg-type_grey"
      [disabled]="profileForm.invalid"
      type="submit"
    >
      @if (isLoading()) {
        <app-loader
          [customStyle]="{ width: '18px', border: '3px solid #fff' }"
        />
      }
      <span>Save</span>
    </button>
  </div>
</form>

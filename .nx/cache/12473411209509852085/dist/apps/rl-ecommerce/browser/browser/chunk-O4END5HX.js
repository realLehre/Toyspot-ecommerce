import{b as k,d,g as G,h as A,l as M,n as P,o as N,s as B,u as D}from"./chunk-HPREADP6.js";import{a as U}from"./chunk-ZFTML6IP.js";import{a as V}from"./chunk-HULGCXHD.js";import{a as T}from"./chunk-XNVULCNU.js";import{c as E}from"./chunk-JMTCKGXD.js";import{k as C,m as L,n as F}from"./chunk-BLPDBI5E.js";import"./chunk-BKPILUOD.js";import{$ as v,Db as u,Mb as s,Ta as p,Vb as S,Wb as _,X as m,ab as x,hb as f,kb as c,la as g,ma as w,pb as h,ub as e,vb as t,wb as n}from"./chunk-RY22DRUR.js";import"./chunk-X5YLR3NI.js";import{i as b}from"./chunk-ODN5LVDJ.js";var z=()=>({width:"18px",border:"3px solid #fff"});function H(o,r){o&1&&n(0,"i",12)}function R(o,r){o&1&&n(0,"i",13)}function j(o,r){o&1&&n(0,"app-loader",16),o&2&&c("customStyle",_(1,z))}var ee=(()=>{let r=class r{constructor(){this.fb=m(B),this.authService=m(E),this.toastService=m(U),this.userAccountService=m(V),this.router=m(L),this.route=m(C),this.showPassword=[],this.isLoading=x(!1)}ngOnInit(){this.loginForm=this.fb.group({email:[null,[d.required,d.email]],password:[null,[d.required,d.minLength(6)]]})}onSubmit(){return b(this,null,function*(){if(this.loginForm.valid){this.isLoading.set(!0);let l={email:this.loginForm.value.email,password:this.loginForm.value.password},{error:a}=yield this.authService.login(l);try{if(a){this.toastService.showToast({type:"error",message:a.message});return}this.toastService.showToast({type:"success",message:"Signed in successfully!"}),this.userAccountService.getUser().subscribe();let i=this.route.snapshot.queryParams.returnUrl;this.router.navigateByUrl(i||"/")}catch{}finally{this.isLoading.set(!1)}}})}onSignInWithGoogle(){this.authService.continueWithGoogle().then(l=>{this.userAccountService.getUser().subscribe(),this.toastService.showToast({type:"success",message:"Logged in successfully!,"})})}onTogglePasswordVisibility(l){this.showPassword[l]=!this.showPassword[l]}};r.\u0275fac=function(a){return new(a||r)},r.\u0275cmp=v({type:r,selectors:[["app-login"]],standalone:!0,features:[S],decls:43,vars:5,consts:[[1,"rounded-lg","flex","flex-col","justify-center","py-6","px-0","mobile:px-6"],[1,"text-lg","mobile:text-3xl","font-semibold","text-type_title_gray"],[1,"mt-6","w-full"],[1,""],[1,"space-y-6","w-full","text-type_title_gray",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium","text-type_grey"],[1,"mt-1"],["id","email","name","email","type","email","formControlName","email",1,"w-full","px-3","py-2","border-[2px]","rounded-md","focus:outline-none","bg-bg_subtle"],["for","password",1,"block","text-sm","font-medium","text-type_grey"],[1,"mt-1","relative"],["id","password","name","password","formControlName","password",1,"w-full","px-3","py-2","border-[2px]","rounded-md","focus:outline-none","bg-bg_subtle",3,"type"],["type","button",1,"absolute","right-3","top-1/2","-translate-y-1/2","text-type_grey",3,"click"],[1,"fa","fa-eye"],[1,"fa","fa-eye-slash"],[1,"mt-2","flex","items-center","space-x-10"],["type","submit",1,"w-full","flex","justify-center","items-center","py-2","px-4","rounded-md","text-sm","font-medium","text-white","bg-primary","h-[42px]","hover:bg-opacity-70","space-x-2",3,"disabled"],[3,"customStyle"],["routerLink","/auth/sign-up","type","button",1,"flex","text-xs","mobile:text-base","font-semibold","items-center","space-x-2","whitespace-nowrap","hover:text-primary","text-type_title_gray","group"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",1,"w-3","-rotate-180","fill-type_title_gray","group-hover:fill-primary"],["d","M7.4 273.4C2.7 268.8 0 262.6 0 256s2.7-12.8 7.4-17.4l176-168c9.6-9.2 24.8-8.8 33.9 .8s8.8 24.8-.8 33.9L83.9 232 424 232c13.3 0 24 10.7 24 24s-10.7 24-24 24L83.9 280 216.6 406.6c9.6 9.2 9.9 24.3 .8 33.9s-24.3 9.9-33.9 .8l-176-168z"],[1,"mt-8"],[1,"flex","items-center","space-x-3"],[1,"w-full","border-t","border-gray-300"],[1,"font-semibold","text-type_title_gray","whitespace-nowrap"],["type","button",1,"w-full","flex","justify-center","items-center","py-2","px-4","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-transparent","h-[42px]","hover:border-primary",3,"click"],["viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","mr-2"],["d","M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z","fill","#4285F4"],["d","M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z","fill","#34A853"],["d","M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z","fill","#FBBC05"],["d","M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z","fill","#EA4335"]],template:function(a,i){a&1&&(e(0,"div",0)(1,"h2",1),s(2," Sign in "),t(),e(3,"div",2)(4,"div",3)(5,"form",4),u("ngSubmit",function(){return i.onSubmit()}),e(6,"div")(7,"label",5),s(8," Email address "),t(),e(9,"div",6),n(10,"input",7),t()(),e(11,"div")(12,"label",8),s(13," Password "),t(),e(14,"div",9),n(15,"input",10),e(16,"button",11),u("click",function(){return i.onTogglePasswordVisibility(0)}),f(17,H,1,0,"i",12)(18,R,1,0,"i",13),t()()(),e(19,"div",14)(20,"button",15),f(21,j,1,2,"app-loader",16),e(22,"span"),s(23,"Sign in"),t()(),e(24,"button",17)(25,"p"),s(26,"Sign up"),t(),g(),e(27,"svg",18),n(28,"path",19),t()()()(),w(),e(29,"div",20)(30,"div",21),n(31,"div",22),e(32,"p",23),s(33,"OR"),t(),n(34,"div",22),t(),e(35,"div",20)(36,"button",24),u("click",function(){return i.onSignInWithGoogle()}),g(),e(37,"svg",25),n(38,"path",26)(39,"path",27)(40,"path",28)(41,"path",29),t(),s(42," Continue with Google "),t()()()()()()),a&2&&(p(5),c("formGroup",i.loginForm),p(10),c("type",i.showPassword[0]?"text":"password"),p(2),h(i.showPassword[0]?18:17),p(3),c("disabled",!i.loginForm.valid),p(),h(i.isLoading()?21:-1))},dependencies:[D,M,k,G,A,P,N,F,T],changeDetection:0});let o=r;return o})();export{ee as LoginComponent};

import{a as O}from"./chunk-ESTR6KSY.js";import{a as H}from"./chunk-YAZERDAT.js";import{a as $}from"./chunk-PWBNNIEZ.js";import{a as L,b as R}from"./chunk-JQIRRWHU.js";import{k as q,m as B}from"./chunk-BLPDBI5E.js";import{k as A,q as D}from"./chunk-BKPILUOD.js";import{$ as T,Ab as b,Db as w,Eb as u,Mb as m,Ob as k,Ta as a,Vb as P,Wb as I,X as c,Xb as g,cc as V,dc as M,hb as h,ja as y,ka as v,kb as p,la as x,ma as f,pb as F,rb as C,sb as S,tb as _,ub as r,vb as l,wb as d}from"./chunk-RY22DRUR.js";var G=e=>({"inline-block opacity-100 translate-x-0":e}),N=e=>({"!translate-x-1 text-primary ":e}),j=()=>[1,2,3,4,5];function z(e,n){if(e&1){let o=b();r(0,"li",2),w("click",function(){let t=y(o).$implicit,s=u(2);return v(s.onSetCategory(t))}),r(1,"span",3),x(),r(2,"svg",4),d(3,"circle",5),l()(),f(),r(4,"div",6)(5,"span",7),m(6),r(7,"span",9),m(8),l()()()()}if(e&2){let o,i,t=n.$implicit,s=u(2);a(),p("ngClass",g(4,G,t.id===((o=s.activeCategory())==null?null:o.id))),a(3),p("ngClass",g(6,N,t.id===((i=s.activeCategory())==null?null:i.id))),a(2),k("",t.name," "),a(2),k(" (",t._count.products,")")}}function J(e,n){if(e&1){let o=b();r(0,"li",2),w("click",function(){y(o);let t=u();return v(t.onSetCategory())}),r(1,"span",3),x(),r(2,"svg",4),d(3,"circle",5),l()(),f(),r(4,"div",6)(5,"span",7),m(6,"All "),l()()(),S(7,z,9,8,"li",8,C)}if(e&2){let o=u();a(),p("ngClass",g(2,G,!o.activeCategory())),a(3),p("ngClass",g(4,N,!o.activeCategory())),a(3),_(n)}}function U(e,n){e&1&&(r(0,"div"),d(1,"p-skeleton",10),l())}function K(e,n){e&1&&S(0,U,2,0,"div",null,C),e&2&&_(I(0,j))}var oe=(()=>{let n=class n{constructor(){this.optionsService=c(H),this.productService=c($),this.router=c(B),this.route=c(q),this.layoutService=c(O),this.categories$=this.optionsService.getCategories(),this.activeCategory=this.optionsService.currentCategory}ngOnInit(){}onSetCategory(i){if(this.layoutService.menuOpened.set(!1),this.activeCategory()?.id!=i?.id)if(this.productService.productSignal.set(null),this.optionsService.currentPage.set(1),this.optionsService.currentPriceFilter.set(null),this.optionsService.currentSort.set("old"),i){this.optionsService.currentCategory.set(i),this.optionsService.currentSubCategory.set(null);let t={category:i};sessionStorage.setItem("hshs82haa02sshs92s",JSON.stringify(t)),this.router.navigate([],{relativeTo:this.route,queryParams:{category:this.createSlug(i.name)},queryParamsHandling:"replace",fragment:"t"})}else{if(this.optionsService.currentCategory()==null)return;this.optionsService.currentCategory.set(null),this.optionsService.currentSubCategory.set(null),sessionStorage.removeItem("hshs82haa02sshs92s"),this.router.navigate([],{relativeTo:this.route,queryParams:{category:null,subCategory:null,page:null},queryParamsHandling:"replace",fragment:"t"})}}createSlug(i){return i.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=T({type:n,selectors:[["app-categories"]],standalone:!0,features:[P],decls:7,vars:3,consts:[[1,"font-inter","tablet:font-playfair","font-semibold","tablet:text-lg","text-3xl"],[1,"mt-1","space-y-2"],[1,"text-type_grey","cursor-pointer","flex","items-center","leading-tight","group","break-words",3,"click"],[1,"text-primary","text-[25px]","-translate-y-[1px]","mr-2","opacity-0","transition-all","duration-300","tablet:group-hover:inline-block","tablet:group-hover:opacity-100","tablet:group-hover:translate-x-0",3,"ngClass"],["width","8","height","9","viewBox","0 0 8 9","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","4","cy","4.5","r","4","fill","#800020"],[1,"transform","-translate-x-[16px]","tablet:group-hover:translate-x-1","group-hover:text-primary","transition-all","duration-300",3,"ngClass"],[1,"category-title","break-words","leading-[1]"],[1,"text-type_grey","cursor-pointer","flex","items-center","leading-tight","group","break-words"],[1,"font-semibold"],["width","100%","height","1rem"]],template:function(t,s){if(t&1&&(r(0,"div")(1,"h1",0),m(2," CATEGORIES "),l(),r(3,"ul",1),h(4,J,9,6),V(5,"async"),h(6,K,2,1),l()()),t&2){let E;a(4),F((E=M(5,1,s.categories$))?4:6,E)}},dependencies:[D,R,L,A]});let e=n;return e})();export{oe as a};

<div class="rounded-lg flex flex-col justify-center py-6 px-0 mobile:px-6">
  <h2 class="text-lg mobile:text-3xl font-semibold text-type_title_gray">
    Sign up
  </h2>

  <div class="mt-6 w-full">
    <div class="">
      <form
        [formGroup]="signupForm"
        (ngSubmit)="onSubmit()"
        appPasswordMatch
        class="space-y-6 w-full text-type_title_gray"
      >
        <div>
          <label
            for="firstName"
            class="block text-sm font-medium text-type_grey"
          >
            First Name
          </label>
          <div class="mt-1">
            <input
              id="firstName"
              name="firstName"
              type="text"
              formControlName="firstName"
              class="w-full px-3 py-2 border-[2px] rounded-md focus:outline-none bg-bg_subtle"
              [ngClass]="{ 'border-red-500': isInvalidAndTouched('firstName') }"
            />
          </div>
          @if (isInvalidAndTouched("firstName")) {
          <p
            class="mt-1 text-sm text-red-500 h-5"
            appErrorMessage
            [controlName]="'firstName'"
          ></p>
          }
        </div>

        <div>
          <label
            for="lastName"
            class="block text-sm font-medium text-type_grey"
          >
            Last Name
          </label>
          <div class="mt-1">
            <input
              id="lastName"
              name="lastName"
              type="text"
              formControlName="lastName"
              class="w-full px-3 py-2 border-[2px] rounded-md focus:outline-none bg-bg_subtle"
              [ngClass]="{ 'border-red-500': isInvalidAndTouched('lastName') }"
            />
          </div>
          @if (isInvalidAndTouched("lastName")) {
          <p
            class="mt-1 text-sm text-red-500 h-5"
            appErrorMessage
            [controlName]="'lastName'"
          ></p>
          }
        </div>

        <div>
          <label for="email" class="block text-sm font-medium text-type_grey">
            Email address
          </label>
          <div class="mt-1">
            <input
              id="email"
              name="email"
              type="email"
              formControlName="email"
              class="w-full px-3 py-2 border-[2px] rounded-md focus:outline-none bg-bg_subtle"
              [ngClass]="{ 'border-red-500': isInvalidAndTouched('email') }"
            />
          </div>
          @if (isInvalidAndTouched("email")) {
          <p
            class="mt-1 text-sm text-red-500 h-5"
            appErrorMessage
            [controlName]="'email'"
          ></p>
          }
        </div>

        <div>
          <label
            for="password"
            class="block text-sm font-medium text-type_grey"
          >
            Password
          </label>
          <div class="mt-1 relative">
            <input
              id="password"
              name="password"
              [type]="!showPassword[0] ? 'password' : 'text'"
              formControlName="password"
              class="w-full px-3 py-2 border-[2px] rounded-md focus:outline-none bg-bg_subtle"
              [ngClass]="{ 'border-red-500': isInvalidAndTouched('password') }"
            />

            <button
              class="absolute right-3 top-1/2 -translate-y-1/2 text-type_grey"
              (click)="onTogglePasswordVisibility(0)"
              type="button"
            >
              @if (!showPassword[0]) {
              <i class="fa fa-eye"></i>
              } @else {
              <i class="fa fa-eye-slash"></i>
              }
            </button>
          </div>
          @if (isInvalidAndTouched("password")) {
          <p
            class="mt-1 text-sm text-red-500 h-5"
            appErrorMessage
            [controlName]="'password'"
          ></p>
          }
        </div>

        <div>
          <label
            for="confirmPassword"
            class="block text-sm font-medium text-type_grey"
          >
            Confirm Password
          </label>
          <div class="mt-1 relative">
            <input
              id="confirmPassword"
              name="confirmPassword"
              [type]="!showPassword[1] ? 'password' : 'text'"
              formControlName="confirmPassword"
              class="w-full px-3 py-2 border-[2px] rounded-md focus:outline-none bg-bg_subtle"
              [ngClass]="{
                'border-red-500': isInvalidAndTouched('confirmPassword'),
              }"
            />
            <button
              class="absolute right-3 top-1/2 -translate-y-1/2 text-type_grey"
              (click)="onTogglePasswordVisibility(1)"
              type="button"
            >
              @if (!showPassword[1]) {
              <i class="fa fa-eye"></i>
              } @else {
              <i class="fa fa-eye-slash"></i>
              }
            </button>
          </div>
          @if ( isInvalidAndTouched("confirmPassword") &&
          signupForm.hasError("passwordMatch") ) {
          <p
            class="mt-1 text-sm text-red-500 h-5"
            appErrorMessage
            [controlName]="'confirmPassword'"
          ></p>
          } @if (signupForm.hasError("passwordMatch")) {
          <p class="mt-1 text-sm text-red-500 h-5">Password does not match</p>
          }
        </div>

        <div class="mt-2 flex items-center space-x-10">
          <button
            type="submit"
            class="w-full flex justify-center items-center space-x-2 py-2 px-4 rounded-md text-sm font-medium text-white bg-primary h-[42px] hover:bg-opacity-70 disabled:bg-gray-300 disabled:cursor-not-allowed"
            [disabled]="signupForm.invalid"
          >
            @if (isLoading()) {
            <app-loader
              [customStyle]="{ width: '18px', border: '3px solid #fff' }"
            />
            }
            <span>Sign up</span>
          </button>
          <p-toast />
          <button
            class="flex items-center space-x-2 whitespace-nowrap hover:text-primary text-type_title_gray group text-xs mobile:text-base font-semibold"
            routerLink="/auth/sign-in"
            type="button"
          >
            <p>Sign in</p>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 448 512"
              class="w-3 -rotate-180 fill-type_title_gray group-hover:fill-primary"
            >
              <path
                d="M7.4 273.4C2.7 268.8 0 262.6 0 256s2.7-12.8 7.4-17.4l176-168c9.6-9.2 24.8-8.8 33.9 .8s8.8 24.8-.8 33.9L83.9 232 424 232c13.3 0 24 10.7 24 24s-10.7 24-24 24L83.9 280 216.6 406.6c9.6 9.2 9.9 24.3 .8 33.9s-24.3 9.9-33.9 .8l-176-168z"
              />
            </svg>
          </button>
        </div>
      </form>

      <div class="mt-8">
        <div class="flex items-center space-x-3">
          <div class="w-full border-t border-gray-300"></div>

          <p class="font-semibold text-type_title_gray whitespace-nowrap">OR</p>
          <div class="w-full border-t border-gray-300"></div>
        </div>

        <div class="mt-8">
          <button
            type="button"
            class="w-full flex justify-center items-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-transparent h-[42px] hover:border-primary"
            (click)="onSignInWithGoogle()"
          >
            <svg
              class="w-5 h-5 mr-2"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z"
                fill="#4285F4"
              />
              <path
                d="M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z"
                fill="#34A853"
              />
              <path
                d="M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z"
                fill="#FBBC05"
              />
              <path
                d="M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z"
                fill="#EA4335"
              />
            </svg>
            Continue with Google
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
